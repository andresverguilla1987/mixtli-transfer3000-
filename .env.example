# ====== Mixtli Backend ENV (Render) ======
NODE_ENV=production
PORT=10000

# Postgres
DATABASE_URL=postgres://user:pass@host:5432/dbname

# JWT
JWT_SECRET=supersecret

# CORS (array JSON)
ALLOWED_ORIGINS=["https://<your-netlify>.netlify.app","http://localhost:5173"]

# Twilio (SMS)
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_FROM=+14085551234

# Email (opcional) — usa UNO de estos bloques
SENDGRID_API_KEY=
SENDGRID_FROM=no-reply@mixtli.app
# o SMTP
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=

# R2/S3
S3_ENDPOINT=https://<accountid>.r2.cloudflarestorage.com
S3_BUCKET=mixtlitransfer
S3_REGION=auto
S3_ACCESS_KEY_ID=
S3_SECRET_ACCESS_KEY=
S3_FORCE_PATH_STYLE=true

# Public base (opcional, si sirves objetos por CDN propio)
PUBLIC_BASE_URL=

# Forzar URL relativas desde /api/pack/create
FORCE_RELATIVE_URLS=true

# Descarga sugerida
CONTENT_DISPOSITION=

# Diagnóstico
CONFIG_DIAG_TOKEN=devtoken123

# Backend público (Render) para link directo ZIP
BACKEND_PUBLIC_ORIGIN=https://<your-backend>.onrender.com

# Límites de plan (MB y descargas)
FREE_MAX_TOTAL_MB=200
FREE_MAX_DOWNLOADS=50
PRO_MAX_TOTAL_MB=20480
PRO_MAX_DOWNLOADS=1000

PACKAGE_PASSWORD_MINLEN=4

# Rate limit por IP para ZIP
DL_RATE_WINDOW_S=60
DL_RATE_MAX=60
